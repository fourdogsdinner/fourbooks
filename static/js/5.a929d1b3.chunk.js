(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{220:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return s}));var n=a(0),r=a.n(n),o=a(47),i=a(7);function s(e){var t=e.src,a=e.className,n=Object(o.default)().font,s=r.a.useMemo((function(){return window.knayi.fontConvert(t,n)}),[t,n]);return Object(i.jsx)("span",{className:a,style:{whiteSpace:"pre-wrap"},children:s})}},221:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));a(0);var n=a(7);function r(e){var t=e.children,a=e.className,r=e.id;return Object(n.jsx)("div",{className:"offcanvas offcanvas-start "+a,tabIndex:"-1",id:""+r,"aria-labelledby":r+"Label",children:t})}r.Control=function(e){var t=e.id,a=e.children,r=e.className;return Object(n.jsx)("div",{className:r,"data-bs-toggle":"offcanvas","data-bs-target":"#"+t,"aria-controls":t,children:a})},r.Header=function(e){var t=e.className,a=e.children;return Object(n.jsxs)("div",{className:"offcanvas-header "+t,children:[Object(n.jsx)("h5",{className:"offcanvas-title",id:"offcanvasExampleLabel",children:a}),Object(n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]})},r.Body=function(e){var t=e.children,a=e.className;return Object(n.jsx)("div",{className:"offcanvas-body "+a,children:t})}},223:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return n})),a.d(t,"db",(function(){return r}));window.firebase.initializeApp({apiKey:"AIzaSyDfBJrvpVfqELfmEylFrFCI9lH-8Y05U-s",authDomain:"fourbooks-mobile.firebaseapp.com",databaseURL:"https://fourbooks-mobile-default-rtdb.firebaseio.com",projectId:"fourbooks-mobile",storageBucket:"fourbooks-mobile.appspot.com",messagingSenderId:"838079290450",appId:"1:838079290450:web:56d5ffa5b74fd676e0d38b"});var n=window.firebase.firestore(),r=window.firebase.database()},224:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));a(0);var n=a(220),r=a(89),o=a(221),i=a(7);function s(){return Object(i.jsx)(o.default.Control,{className:"btn btn-primary btn-sm",id:"bookTitles",children:Object(i.jsx)(r.default,{name:"list"})})}var c=a(103);function l(e){var t=e.title,a=void 0===t?"FourBooks":t,r=e.headerRight,o=void 0===r?Object(i.jsx)(c.default,{}):r,l=e.headerLeft;return Object(i.jsx)("nav",{style:{height:64,zIndex:99999},className:"navbar bg-primary navbar-dark shadow",children:Object(i.jsxs)("div",{className:"container-fluid",children:[l||Object(i.jsx)(s,{}),Object(i.jsx)("div",{className:"navbar-brand fw-bold",children:Object(i.jsx)(n.default,{src:a})}),o]})})}},226:function(e,t,a){"use strict";a.r(t),a.d(t,"SafeAreaView",(function(){return f}));var n=a(8),r=a.n(n),o=a(0),i=a(2),s=a(3),c=a(49),l=["style","mode","edges"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u={top:8,right:4,bottom:2,left:1};function f(e){var t=e.style,a=void 0===t?{}:t,n=e.mode,f=e.edges,b=r()(e,l),p=Object(c.useSafeAreaInsets)(),v=null!=f?f.reduce((function(e,t){return e|u[t]}),0):15,m=o.useMemo((function(){var e=8&v?p.top:0,t=4&v?p.right:0,r=2&v?p.bottom:0,o=1&v?p.left:0,i=s.default.flatten(a);if("margin"===n){var c=i.margin,l=void 0===c?0:c,d=i.marginVertical,u=void 0===d?l:d,f=i.marginHorizontal,b=void 0===f?l:f,m=i.marginTop,j=void 0===m?u:m,h=i.marginRight,g=void 0===h?b:h,x=i.marginBottom,O=void 0===x?u:x,y=i.marginLeft;return[a,{marginTop:j+e,marginRight:g+t,marginBottom:O+r,marginLeft:(void 0===y?b:y)+o}]}var w=i.padding,N=void 0===w?0:w,k=i.paddingVertical,C=void 0===k?N:k,S=i.paddingHorizontal,I=void 0===S?N:S,R=i.paddingTop,B=void 0===R?C:R,L=i.paddingRight,A=void 0===L?I:L,E=i.paddingBottom,V=void 0===E?C:E,z=i.paddingLeft;return[a,{paddingTop:B+e,paddingRight:A+t,paddingBottom:V+r,paddingLeft:(void 0===z?I:z)+o}]}),[a,p,n,v]);return o.createElement(i.default,d({style:m},b))}},227:function(e,t,a){"use strict";a.r(t),a.d(t,"getIntroDataAsync",(function(){return i})),a.d(t,"getStoryDataAsync",(function(){return s}));var n=a(21),r=a.n(n),o=a(223),i=function(e){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(o.store.collection("Dashboard").doc("Intro").get());case 3:return t=n.sent,a=t.data(),n.abrupt("return",a.timestamp===(null==e?void 0:e.timestamp)?e:a);case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0.code),n.abrupt("return",e);case 12:case"end":return n.stop()}}),null,null,[[0,8]],Promise)},s=function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(o.db.ref().child("Books").child(e).get());case 3:return t=a.sent,a.abrupt("return",t.val());case 7:return a.prev=7,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",null);case 11:case"end":return a.stop()}}),null,null,[[0,7]],Promise)}},232:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(6),r=a.n(n),o=a(21),i=a.n(o),s=a(11),c=a(0),l=a.n(c),d=a(224),u=a(220),f=a(102),b=a(7);function p(e){var t=e.post,a=e.params,n=l.a.useCallback((function(){document.getElementById("audio").playbackRate=1.19}),[]);return Object(b.jsxs)("div",{className:"p-2 position-relative",children:[Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)(u.default,{src:null==a?void 0:a.title})}),Object(b.jsx)("div",{className:"card-subtitle fs-italic",children:Object(b.jsx)(u.default,{src:null==a?void 0:a.writer})}),t.loading?Object(b.jsx)(f.default,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)("audio",{controls:!0,controlsList:"nodownload",src:"https://drive.google.com/uc?authuser=0&id="+(null==t?void 0:t.mp3)+"&export=download",id:"audio",onCanPlay:n,style:{height:32,position:"sticky",top:0,zIndex:9999,width:"100%"}}),Object(b.jsx)("p",{className:"mb-3",children:Object(b.jsx)(u.default,{src:null==t?void 0:t.story})})]})]})}var v=a(15),m=a(2),j=a(226);function h(e){var t=e.contentContainerStyle,a=e.headerHeight,n=void 0===a?64:a,r=e.NavComponent,o=e.children,i=l.a.useRef(new v.default.Value(0)).current,s=i.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolateLeft:"clamp"}),c=v.default.diffClamp(s,0,n).interpolate({inputRange:[0,n],outputRange:[0,-n]}),d=v.default.event([{nativeEvent:{contentOffset:{y:i}}}],{useNativeDriver:!0});return Object(b.jsx)(j.SafeAreaView,{style:{flex:1},children:Object(b.jsxs)(m.default,{style:{flex:1,position:"relative"},children:[Object(b.jsx)(v.default.ScrollView,{contentContainerStyle:[{paddingTop:n+8},t],onScroll:d,scrollEventThrottle:16,children:o}),Object(b.jsx)(v.default.View,{style:{transform:[{translateY:c}],position:"absolute",top:0,start:0,end:0,height:n},children:r})]})})}var g=a(227),x={story:"",mp3:"",loading:!0};function O(){var e=Object(s.useRoute)().params,t=Object(s.useNavigation)(),a=l.a.useState(x),n=r()(a,2),o=n[0],c=n[1],u=l.a.useCallback((function(){var t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.awrap(Object(g.getStoryDataAsync)(e.serverId));case 2:t=a.sent,c({mp3:t.mp3,story:t.story,loading:!1});case 4:case"end":return a.stop()}}),null,null,null,Promise)}),[e]);l.a.useEffect((function(){return u(),function(){return c(x)}}),[]);var f=l.a.useCallback((function(){return Object(b.jsx)("button",{type:"button",className:"btn btn-sm",onClick:t.goBack,children:Object(b.jsx)("i",{className:"bi-chevron-left text-light"})})}));return Object(b.jsx)(h,{NavComponent:Object(b.jsx)(d.default,{headerLeft:Object(b.jsx)(f,{})}),contentContainerStyle:{paddingBottom:32,paddingHorizontal:8},children:Object(b.jsx)(p,{params:e,post:o})})}}}]);
//# sourceMappingURL=5.a929d1b3.chunk.js.map