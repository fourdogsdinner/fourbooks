(this.webpackJsonp=this.webpackJsonp||[]).push([[4],{218:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return c}));var n=r(0),a=r.n(n),o=r(47),i=r(7);function c(e){var t=e.src,r=e.className,n=Object(o.default)().font,c=a.a.useMemo((function(){return window.knayi.fontConvert(t,n)}),[t,n]);return Object(i.jsx)("span",{className:r,style:{whiteSpace:"pre-wrap"},children:c})}},219:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));r(0);var n=r(2),a=r(7);function o(e){var t=e.minHeight,r=void 0===t?400:t;return Object(a.jsx)(n.default,{style:{flex:1,alignItems:"center",justifyContent:"center",minHeight:r},children:Object(a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},220:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));r(0);var n=r(7);function a(e){var t=e.children,r=e.className,a=e.id;return Object(n.jsx)("div",{className:"offcanvas offcanvas-start "+r,tabIndex:"-1",id:""+a,"aria-labelledby":a+"Label",children:t})}a.Control=function(e){var t=e.id,r=e.children,a=e.className;return Object(n.jsx)("div",{className:a,"data-bs-toggle":"offcanvas","data-bs-target":"#"+t,"aria-controls":t,children:r})},a.Header=function(e){var t=e.className,r=e.children;return Object(n.jsxs)("div",{className:"offcanvas-header "+t,children:[Object(n.jsx)("h5",{className:"offcanvas-title",id:"offcanvasExampleLabel",children:r}),Object(n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]})},a.Body=function(e){var t=e.children,r=e.className;return Object(n.jsx)("div",{className:"offcanvas-body "+r,children:t})}},221:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return l}));var n=r(227),a=r(0),o=r.n(a),i=r(15),c=r(225),s=r(219),u=r(7);function l(e){var t=e.data,r=void 0===t?[]:t,a=e.renderItem,l=e.separatorHeight,d=void 0===l?8:l,f=e.headerHeight,b=void 0===f?64:f,p=e.NavComponent,v=e.keyExtractor,m=o.a.useRef(null);Object(n.default)(m);var g=o.a.useCallback((function(e,t){return t.toString()}),[]),h=o.a.useCallback((function(){return Object(u.jsx)("div",{style:{height:d}})}),[d]),j=o.a.useRef(new i.default.Value(0)).current,O=j.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolateLeft:"clamp"}),y=i.default.diffClamp(O,0,b).interpolate({inputRange:[0,b],outputRange:[0,-b]}),x=i.default.event([{nativeEvent:{contentOffset:{y:j}}}],{useNativeDriver:!0});return 0===r.length?Object(u.jsx)(s.default,{}):Object(u.jsxs)(c.SafeAreaView,{style:{flex:1},children:[Object(u.jsx)(i.default.FlatList,{ref:m,contentContainerStyle:{padding:8,paddingTop:b+8},ItemSeparatorComponent:h,data:r,renderItem:a,keyExtractor:v||g,onScroll:x,scrollEventThrottle:16}),Object(u.jsx)(i.default.View,{style:{transform:[{translateY:y}],position:"absolute",top:0,start:0,end:0,height:b},children:p})]})}},222:function(e,t,r){"use strict";r.r(t),r.d(t,"store",(function(){return n})),r.d(t,"db",(function(){return a}));window.firebase.initializeApp({apiKey:"AIzaSyDfBJrvpVfqELfmEylFrFCI9lH-8Y05U-s",authDomain:"fourbooks-mobile.firebaseapp.com",databaseURL:"https://fourbooks-mobile-default-rtdb.firebaseio.com",projectId:"fourbooks-mobile",storageBucket:"fourbooks-mobile.appspot.com",messagingSenderId:"838079290450",appId:"1:838079290450:web:56d5ffa5b74fd676e0d38b"});var n=window.firebase.firestore(),a=window.firebase.database()},223:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));r(0);var n=r(218),a=r(89),o=r(220),i=r(7);function c(){return Object(i.jsx)(o.default.Control,{className:"btn btn-primary btn-sm",id:"bookTitles",children:Object(i.jsx)(a.default,{name:"list"})})}var s=r(102);function u(e){var t=e.title,r=void 0===t?"FourBooks":t,a=e.headerRight,o=void 0===a?Object(i.jsx)(s.default,{}):a,u=e.headerLeft;return Object(i.jsx)("nav",{style:{height:64,zIndex:99999},className:"navbar bg-primary navbar-dark shadow",children:Object(i.jsxs)("div",{className:"container-fluid",children:[u||Object(i.jsx)(c,{}),Object(i.jsx)("div",{className:"navbar-brand fw-bold",children:Object(i.jsx)(n.default,{src:r})}),o]})})}},225:function(e,t,r){"use strict";r.r(t),r.d(t,"SafeAreaView",(function(){return f}));var n=r(8),a=r.n(n),o=r(0),i=r(2),c=r(3),s=r(49),u=["style","mode","edges"];function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d={top:8,right:4,bottom:2,left:1};function f(e){var t=e.style,r=void 0===t?{}:t,n=e.mode,f=e.edges,b=a()(e,u),p=Object(s.useSafeAreaInsets)(),v=null!=f?f.reduce((function(e,t){return e|d[t]}),0):15,m=o.useMemo((function(){var e=8&v?p.top:0,t=4&v?p.right:0,a=2&v?p.bottom:0,o=1&v?p.left:0,i=c.default.flatten(r);if("margin"===n){var s=i.margin,u=void 0===s?0:s,l=i.marginVertical,d=void 0===l?u:l,f=i.marginHorizontal,b=void 0===f?u:f,m=i.marginTop,g=void 0===m?d:m,h=i.marginRight,j=void 0===h?b:h,O=i.marginBottom,y=void 0===O?d:O,x=i.marginLeft;return[r,{marginTop:g+e,marginRight:j+t,marginBottom:y+a,marginLeft:(void 0===x?b:x)+o}]}var w=i.padding,k=void 0===w?0:w,N=i.paddingVertical,R=void 0===N?k:N,C=i.paddingHorizontal,P=void 0===C?k:C,S=i.paddingTop,T=void 0===S?R:S,I=i.paddingRight,L=void 0===I?P:I,E=i.paddingBottom,B=void 0===E?R:E,D=i.paddingLeft;return[r,{paddingTop:T+e,paddingRight:L+t,paddingBottom:B+a,paddingLeft:(void 0===D?P:D)+o}]}),[r,p,n,v]);return o.createElement(i.default,l({style:m},b))}},227:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return o}));var n=r(11),a=r(0);function o(e){var t=Object(n.useNavigation)(),r=Object(n.useRoute)();a.useEffect((function(){for(var n=t;n&&"tab"!==n.getState().type;)n=n.getParent();if(n)return n.addListener("tabPress",(function(a){var o=t.isFocused(),i=t===n||t.getState().routes[0].key===r.key;requestAnimationFrame((function(){var t=function(e){return null==e.current?null:"scrollToTop"in e.current||"scrollTo"in e.current||"scrollToOffset"in e.current||"scrollResponderScrollTo"in e.current?e.current:"getScrollResponder"in e.current?e.current.getScrollResponder():"getNode"in e.current?e.current.getNode():e.current}(e);o&&i&&t&&!a.defaultPrevented&&("scrollToTop"in t?t.scrollToTop():"scrollTo"in t?t.scrollTo({x:0,y:0,animated:!0}):"scrollToOffset"in t?t.scrollToOffset({offset:0,animated:!0}):"scrollResponderScrollTo"in t&&t.scrollResponderScrollTo({y:0,animated:!0}))}))}))}),[t,e,r.key])}},229:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return z}));var n=r(11),a=r(0),o=r.n(a),i=r(28),c=r.n(i),s=r(27),u=r.n(s),l=r(158),d=r.n(l),f=r(35),b=r.n(f),p=r(36),v=r.n(p),m=r(23),g=r.n(m),h=r(6),j=r.n(h),O=r(7);function y(e){var t=e.className,r=e.onPress,n=e.placeholderHeight,a=void 0===n?500:n,i=e.url,c=o.a.useState(!1),s=j()(c,2),u=s[0],l=s[1],d=o.a.useCallback((function(){l(!0)}),[]);return Object(O.jsx)("div",{className:"bg-secondary "+t,onClick:r,children:Object(O.jsx)("img",{src:i,width:"100%",height:u?"auto":a,onLoad:d})})}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var a=g()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return v()(this,r)}}var w=function(e){b()(r,e);var t=x(r);function r(){var e;return c()(this,r),(e=t.call(this)).handlePress=e.handlePress.bind(d()(e)),e}return u()(r,[{key:"handlePress",value:function(){this.props.navigation.navigate("ImageViewer",{url:this.props.item})}},{key:"render",value:function(){var e=this.props.item;return Object(O.jsx)(y,{url:"https://drive.google.com/uc?authuser=0&id="+e+"&export=download",onPress:this.handlePress})}}]),r}(o.a.PureComponent),k=r(223),N=r(221),R=r(89),C=r(5),P=r.n(C),S=r(21),T=r.n(S),I=r(222),L=function(e){var t,r;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=2;break}return n.abrupt("return",e);case 2:return n.prev=2,n.next=5,T.a.awrap(I.store.collection("Dashboard").doc("Images").get());case 5:return t=n.sent,r=t.data(),n.abrupt("return",r.timestamp===(null==e?void 0:e.timestamp)?e:r);case 10:return n.prev=10,n.t0=n.catch(2),console.log(n.t0.code),n.abrupt("return",e);case 14:case"end":return n.stop()}}),null,null,[[2,10]],Promise)},E=r(12),B=r.n(E);function D(e){for(var t=B()(e),r=t.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),a=t[r];t[r]=t[n],t[n]=a}return t}var H=r(103);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){P()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F={data:[],error:!1};function z(){var e=function(){var e=o.a.useState(F),t=j()(e,2),r=t[0],n=t[1],a=Object(H.default)("@images"),i=a.getItem,c=a.setItem,s=o.a.useCallback((function(e){n((function(t){return A(A({},t),{},{data:D(e).slice(0,500)})}))}),[]),u=o.a.useCallback((function(){var e,t;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n(F),e=i(),r.next=4,T.a.awrap(L(e));case 4:if(!(t=r.sent)){r.next=8;break}return s(t.data),r.abrupt("return",c(t));case 8:return r.abrupt("return",c((function(e){return A(A({},e),{},{error:!0})})));case 9:case"end":return r.stop()}}),null,null,null,Promise)}),[]);return o.a.useEffect((function(){u()}),[]),{data:r.data,error:r.error,getInitialData:u}}(),t=Object(n.useNavigation)(),r=o.a.useCallback((function(e){var r=e.item;return Object(O.jsx)(w,{navigation:t,item:r})}),[]),a=o.a.useCallback((function(e){return e.toString()}),[]),i=o.a.useCallback((function(){return Object(O.jsx)("button",{onClick:e.getInitialData,type:"button",className:"btn btn-sm text-light",children:Object(O.jsx)(R.default,{name:"arrow-clockwise"})})}),[]);return Object(O.jsx)(N.default,{data:e.data,renderItem:r,keyExtractor:a,NavComponent:Object(O.jsx)(k.default,{headerRight:Object(O.jsx)(i,{}),headerLeft:null})})}}}]);
//# sourceMappingURL=4.da8371f1.chunk.js.map