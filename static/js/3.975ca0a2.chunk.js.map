{"version":3,"sources":["src/common/elements/EBurmese.js","src/common/elements/EOffcanvas.js","src/common/elements/EAnimatedFlatList.js","src/assets/firebaseConfig.js","src/common/components/MenuButton.js","src/common/components/Nav.js","src/common/components/Feed.js","SafeAreaView.web.tsx","src/utils/api/books.js","useScrollToTop.tsx","src/common/components/BookTitle.js","src/common/components/BookTitleList.js","src/utils/hooks/useBooks.js","src/common/screens/tab/Home.js"],"names":["EBurmese","src","className","font","useSettings","text","React","useMemo","window","knayi","fontConvert","style","whiteSpace","EOffcanvas","children","id","tabIndex","aria-labelledby","Control","data-bs-toggle","data-bs-target","aria-controls","Header","type","data-bs-dismiss","aria-label","Body","EAnimatedFlatList","data","renderItem","separatorHeight","headerHeight","NavComponent","keyExtractor","contentContainerStyle","ref","useRef","useScrollToTop","getKeys","useCallback","_","index","toString","Separator","height","scrollY","Animated","Value","current","clampedScrollY","interpolate","inputRange","outputRange","extrapolateLeft","y","diffClamp","onScroll","event","nativeEvent","contentOffset","useNativeDriver","length","flex","FlatList","paddingTop","ItemSeparatorComponent","scrollEventThrottle","View","transform","translateY","position","top","start","end","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","store","firestore","db","database","MenuButton","EIcon","name","Nav","title","headerRight","ZawgyiUnicodeConverter","headerLeft","zIndex","Feed","handlePress","bind","this","props","navigation","navigate","route","item","writer","serverId","onClick","backgroundColor","color","cursor","intro","PureComponent","edgeBitmaskMap","right","bottom","left","SafeAreaView","rest","insets","useSafeAreaInsets","edgeBitmask","edges","accum","appliedStyle","insetTop","insetRight","insetBottom","insetLeft","flatStyle","StyleSheet","mode","margin","marginVertical","marginHorizontal","marginTop","marginRight","marginBottom","marginLeft","padding","paddingVertical","paddingHorizontal","paddingRight","paddingBottom","paddingLeft","getIntroDataAsync","a","async","collection","doc","get","raw","res","timestamp","console","log","code","getStoryDataAsync","child","val","useNavigation","useRoute","e","isFocused","isFirst","requestAnimationFrame","scrollable","getScrollableNode","x","animated","offset","BookTitle","BookTitleList","initialState","error","Home","books","useState","state","setState","useStorage","getItem","setItem","setData","prev","getInitialData","useEffect","useBooks"],"mappings":"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","file":"static/js/3.975ca0a2.chunk.js","sourcesContent":["import React from \"react\";\r\nimport useSettings from \"~/utils/hooks/useSettings\";\r\n\r\nexport default function EBurmese({ src, className }) {\r\n  const { font } = useSettings();\r\n\r\n  const text = React.useMemo(\r\n    () => window.knayi.fontConvert(src, font),\r\n    [src, font]\r\n  );\r\n\r\n  return (\r\n    <span className={className} style={{ whiteSpace: \"pre-wrap\" }}>\r\n      {text}\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function EOffcanvas({ children, className, id }) {\r\n  return (\r\n    <div\r\n      className={\"offcanvas offcanvas-start \" + className}\r\n      tabIndex=\"-1\"\r\n      id={`${id}`}\r\n      aria-labelledby={`${id}Label`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Header = ({ className, children }) => (\r\n  <div className={\"offcanvas-header \" + className}>\r\n    <h5 className=\"offcanvas-title\" id=\"offcanvasExampleLabel\">\r\n      {children}\r\n    </h5>\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn-close\"\r\n      data-bs-dismiss=\"offcanvas\"\r\n      aria-label=\"Close\"\r\n    ></button>\r\n  </div>\r\n);\r\n\r\nconst Body = ({ children, className }) => (\r\n  <div className={\"offcanvas-body \" + className}>{children}</div>\r\n);\r\n\r\nconst Control = ({ id, children, className }) => (\r\n  <div\r\n    className={className}\r\n    data-bs-toggle=\"offcanvas\"\r\n    data-bs-target={`#${id}`}\r\n    aria-controls={id}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nEOffcanvas.Control = Control;\r\nEOffcanvas.Header = Header;\r\nEOffcanvas.Body = Body;\r\n","import { useScrollToTop } from \"@react-navigation/native\";\r\nimport React from \"react\";\r\nimport { Animated } from \"react-native\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\nimport ELoading from \"~/common/elements/ELoading\";\r\n\r\nexport default function EAnimatedFlatList({\r\n  data = [],\r\n  renderItem,\r\n  separatorHeight = 8,\r\n  headerHeight = 64,\r\n  NavComponent,\r\n  keyExtractor,\r\n  contentContainerStyle,\r\n}) {\r\n  // Scroll To Top\r\n  const ref = React.useRef(null);\r\n  useScrollToTop(ref);\r\n\r\n  const getKeys = React.useCallback((_, index) => index.toString(), []);\r\n\r\n  const Separator = React.useCallback(\r\n    () => <div style={{ height: separatorHeight }} />,\r\n    [separatorHeight]\r\n  );\r\n\r\n  // Show & Hide Navigation On scroll\r\n  const scrollY = React.useRef(new Animated.Value(0)).current;\r\n  const clampedScrollY = scrollY.interpolate({\r\n    inputRange: [0, 1],\r\n    outputRange: [0, 1],\r\n    extrapolateLeft: \"clamp\",\r\n  });\r\n  const scrollYClamped = Animated.diffClamp(clampedScrollY, 0, headerHeight);\r\n  const y = scrollYClamped.interpolate({\r\n    inputRange: [0, headerHeight],\r\n    outputRange: [0, -headerHeight],\r\n  });\r\n  const onScroll = Animated.event(\r\n    [{ nativeEvent: { contentOffset: { y: scrollY } } }],\r\n    { useNativeDriver: true }\r\n  );\r\n\r\n  if (data.length === 0) {\r\n    return <ELoading />;\r\n  }\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <Animated.FlatList\r\n        ref={ref}\r\n        contentContainerStyle={[\r\n          {\r\n            paddingTop: headerHeight + separatorHeight,\r\n          },\r\n          contentContainerStyle,\r\n        ]}\r\n        ItemSeparatorComponent={Separator}\r\n        data={data}\r\n        renderItem={renderItem}\r\n        keyExtractor={keyExtractor || getKeys}\r\n        onScroll={onScroll}\r\n        scrollEventThrottle={16}\r\n      />\r\n      <Animated.View\r\n        style={{\r\n          transform: [{ translateY: y }],\r\n          position: \"absolute\",\r\n          top: 0,\r\n          start: 0,\r\n          end: 0,\r\n          height: headerHeight,\r\n        }}\r\n      >\r\n        {NavComponent}\r\n      </Animated.View>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n","import {\r\n  apiKey,\r\n  databaseURL,\r\n  authDomain,\r\n  projectId,\r\n  messagingSenderId,\r\n  appId,\r\n  storageBucket,\r\n} from \"@env\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: apiKey,\r\n  authDomain: authDomain,\r\n  databaseURL: databaseURL,\r\n  projectId: projectId,\r\n  storageBucket: storageBucket,\r\n  messagingSenderId: messagingSenderId,\r\n  appId: appId,\r\n};\r\n\r\nwindow.firebase.initializeApp(firebaseConfig);\r\n\r\nexport const store = window.firebase.firestore();\r\n\r\nexport const db = window.firebase.database();\r\n","import React from \"react\";\r\nimport EIcon from \"../elements/EIcon\";\r\nimport EOffcanvas from \"../elements/EOffcanvas\";\r\n\r\nexport default function MenuButton() {\r\n  return (\r\n    <EOffcanvas.Control className=\"btn btn-primary btn-sm\" id={\"bookTitles\"}>\r\n      <EIcon name={\"list\"} />\r\n    </EOffcanvas.Control>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport EBurmese from \"../elements/EBurmese\";\r\nimport MenuButton from \"./MenuButton\";\r\nimport ZawgyiUnicodeConverter from \"./ZawgyiUnicodeConverter\";\r\n\r\nexport default function Nav({\r\n  title = \"FourBooks\",\r\n  headerRight = <ZawgyiUnicodeConverter />,\r\n  headerLeft,\r\n}) {\r\n  return (\r\n    <nav\r\n      style={{ height: 64, zIndex: 99999 }}\r\n      className={\"navbar bg-primary navbar-dark shadow\"}\r\n    >\r\n      <div className=\"container-fluid\">\r\n        {headerLeft || <MenuButton />}\r\n        <div className=\"navbar-brand fw-bold\">\r\n          <EBurmese src={title} />\r\n        </div>\r\n        {headerRight}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport EBurmese from \"~/common/elements/EBurmese\";\r\n\r\nexport default class Feed extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.handlePress = this.handlePress.bind(this);\r\n  }\r\n\r\n  handlePress() {\r\n    this.props.navigation.navigate(\r\n      this.props.route === \"Favorite\" ? \"FavoritePost\" : \"BookPost\",\r\n      {\r\n        title: this.props.item?.title,\r\n        writer: this.props.item?.writer || \"credit to original writer\",\r\n        serverId: this.props.item?.serverId,\r\n      }\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { item } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className=\"card p-2\"\r\n        onClick={this.handlePress}\r\n        style={{\r\n          backgroundColor: \"inherit\",\r\n          color: \"inherit\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        title={`click to read more about ${item?.title}`}\r\n      >\r\n        <div className=\"card-title\">\r\n          <EBurmese src={item?.title} />\r\n        </div>\r\n        <div className=\"card-subtitle fs-italic mb-1\">\r\n          {item?.writer || \"credit to original writer\"}\r\n        </div>\r\n        <p className=\"card-text\">\r\n          <EBurmese src={item?.intro} />\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { useSafeAreaInsets } from './SafeAreaContext';\nimport type { Edge, NativeSafeAreaViewProps } from './SafeArea.types';\n\n// prettier-ignore\nconst TOP    = 0b1000,\n      RIGHT  = 0b0100,\n      BOTTOM = 0b0010,\n      LEFT   = 0b0001,\n      ALL    = 0b1111;\n\n/* eslint-disable no-bitwise */\n\nconst edgeBitmaskMap: Record<Edge, number> = {\n  top: TOP,\n  right: RIGHT,\n  bottom: BOTTOM,\n  left: LEFT,\n};\n\nexport function SafeAreaView({\n  style = {},\n  mode,\n  edges,\n  ...rest\n}: NativeSafeAreaViewProps) {\n  const insets = useSafeAreaInsets();\n\n  const edgeBitmask =\n    edges != null\n      ? edges.reduce((accum, edge) => accum | edgeBitmaskMap[edge], 0)\n      : ALL;\n\n  const appliedStyle = React.useMemo(() => {\n    const insetTop = edgeBitmask & TOP ? insets.top : 0;\n    const insetRight = edgeBitmask & RIGHT ? insets.right : 0;\n    const insetBottom = edgeBitmask & BOTTOM ? insets.bottom : 0;\n    const insetLeft = edgeBitmask & LEFT ? insets.left : 0;\n\n    const flatStyle = StyleSheet.flatten(style) as Record<string, number>;\n\n    if (mode === 'margin') {\n      const {\n        margin = 0,\n        marginVertical = margin,\n        marginHorizontal = margin,\n        marginTop = marginVertical,\n        marginRight = marginHorizontal,\n        marginBottom = marginVertical,\n        marginLeft = marginHorizontal,\n      } = flatStyle;\n\n      const marginStyle = {\n        marginTop: marginTop + insetTop,\n        marginRight: marginRight + insetRight,\n        marginBottom: marginBottom + insetBottom,\n        marginLeft: marginLeft + insetLeft,\n      };\n\n      return [style, marginStyle];\n    } else {\n      const {\n        padding = 0,\n        paddingVertical = padding,\n        paddingHorizontal = padding,\n        paddingTop = paddingVertical,\n        paddingRight = paddingHorizontal,\n        paddingBottom = paddingVertical,\n        paddingLeft = paddingHorizontal,\n      } = flatStyle;\n\n      const paddingStyle = {\n        paddingTop: paddingTop + insetTop,\n        paddingRight: paddingRight + insetRight,\n        paddingBottom: paddingBottom + insetBottom,\n        paddingLeft: paddingLeft + insetLeft,\n      };\n\n      return [style, paddingStyle];\n    }\n  }, [style, insets, mode, edgeBitmask]);\n\n  return <View style={appliedStyle} {...rest} />;\n}\n","import { db, store } from \"~/assets/firebaseConfig\";\r\n\r\nconst getIntroDataAsync = async (data) => {\r\n  try {\r\n    const raw = await store.collection(\"Dashboard\").doc(\"Intro\").get();\r\n    const res = raw.data();\r\n\r\n    return res.timestamp === data?.timestamp ? data : res;\r\n  } catch (error) {\r\n    console.log(error.code);\r\n    return data;\r\n  }\r\n};\r\n\r\nconst getStoryDataAsync = async (serverId) => {\r\n  try {\r\n    const res = await db.ref().child(\"Books\").child(serverId).get();\r\n\r\n    return res.val();\r\n  } catch (error) {\r\n    console.log(error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport { getIntroDataAsync, getStoryDataAsync };\r\n","import { EventArg, useNavigation, useRoute } from '@react-navigation/core';\nimport * as React from 'react';\n\ntype ScrollOptions = { x?: number; y?: number; animated?: boolean };\n\ntype ScrollableView =\n  | { scrollToTop(): void }\n  | { scrollTo(options: ScrollOptions): void }\n  | { scrollToOffset(options: { offset?: number; animated?: boolean }): void }\n  | { scrollResponderScrollTo(options: ScrollOptions): void };\n\ntype ScrollableWrapper =\n  | { getScrollResponder(): React.ReactNode }\n  | { getNode(): ScrollableView }\n  | ScrollableView;\n\nfunction getScrollableNode(ref: React.RefObject<ScrollableWrapper>) {\n  if (ref.current == null) {\n    return null;\n  }\n\n  if (\n    'scrollToTop' in ref.current ||\n    'scrollTo' in ref.current ||\n    'scrollToOffset' in ref.current ||\n    'scrollResponderScrollTo' in ref.current\n  ) {\n    // This is already a scrollable node.\n    return ref.current;\n  } else if ('getScrollResponder' in ref.current) {\n    // If the view is a wrapper like FlatList, SectionList etc.\n    // We need to use `getScrollResponder` to get access to the scroll responder\n    return ref.current.getScrollResponder();\n  } else if ('getNode' in ref.current) {\n    // When a `ScrollView` is wraped in `Animated.createAnimatedComponent`\n    // we need to use `getNode` to get the ref to the actual scrollview.\n    // Note that `getNode` is deprecated in newer versions of react-native\n    // this is why we check if we already have a scrollable node above.\n    return ref.current.getNode();\n  } else {\n    return ref.current;\n  }\n}\n\nexport default function useScrollToTop(\n  ref: React.RefObject<ScrollableWrapper>\n) {\n  const navigation = useNavigation();\n  const route = useRoute();\n\n  React.useEffect(() => {\n    let current = navigation;\n\n    // The screen might be inside another navigator such as stack nested in tabs\n    // We need to find the closest tab navigator and add the listener there\n    while (current && current.getState().type !== 'tab') {\n      current = current.getParent();\n    }\n\n    if (!current) {\n      return;\n    }\n\n    const unsubscribe = current.addListener(\n      // We don't wanna import tab types here to avoid extra deps\n      // in addition, there are multiple tab implementations\n      // @ts-expect-error\n      'tabPress',\n      (e: EventArg<'tabPress', true>) => {\n        // We should scroll to top only when the screen is focused\n        const isFocused = navigation.isFocused();\n\n        // In a nested stack navigator, tab press resets the stack to first screen\n        // So we should scroll to top only when we are on first screen\n        const isFirst =\n          navigation === current ||\n          navigation.getState().routes[0].key === route.key;\n\n        // Run the operation in the next frame so we're sure all listeners have been run\n        // This is necessary to know if preventDefault() has been called\n        requestAnimationFrame(() => {\n          const scrollable = getScrollableNode(ref) as ScrollableWrapper;\n\n          if (isFocused && isFirst && scrollable && !e.defaultPrevented) {\n            if ('scrollToTop' in scrollable) {\n              scrollable.scrollToTop();\n            } else if ('scrollTo' in scrollable) {\n              scrollable.scrollTo({ x: 0, y: 0, animated: true });\n            } else if ('scrollToOffset' in scrollable) {\n              scrollable.scrollToOffset({ offset: 0, animated: true });\n            } else if ('scrollResponderScrollTo' in scrollable) {\n              scrollable.scrollResponderScrollTo({ y: 0, animated: true });\n            }\n          }\n        });\n      }\n    );\n\n    return unsubscribe;\n  }, [navigation, ref, route.key]);\n}\n","import React from \"react\";\r\nimport EBurmese from \"../elements/EBurmese\";\r\n\r\nexport default class BookTitle extends React.PureComponent {\r\n  constructor() {\r\n    super();\r\n    this.handlePress = this.handlePress.bind(this);\r\n  }\r\n\r\n  handlePress() {\r\n    this.props.navigation.navigate(\"BookPost\", {\r\n      title: this.props.item?.title,\r\n      writer: this.props.item?.writer || \"credit to original writer\",\r\n      serverId: this.props.item?.serverId,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const text = this.props.index + 1 + \". \" + this.props.item?.title;\r\n\r\n    return (\r\n      <div className=\"p-2 border-bottom border-1\" onClick={this.handlePress}>\r\n        <EBurmese src={text} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { useNavigation } from \"@react-navigation/native\";\r\nimport React from \"react\";\r\nimport { FlatList } from \"react-native-web\";\r\nimport EBurmese from \"../elements/EBurmese\";\r\nimport EOffcanvas from \"../elements/EOffcanvas\";\r\nimport BookTitle from \"./BookTitle\";\r\n\r\nexport default function BookTitleList({ data }) {\r\n  const navigation = useNavigation();\r\n\r\n  const renderItem = React.useCallback(\r\n    ({ item, index }) => (\r\n      <BookTitle item={item} index={index} navigation={navigation} />\r\n    ),\r\n    []\r\n  );\r\n\r\n  const keyExtractor = React.useCallback((item) => item.title, []);\r\n\r\n  return (\r\n    <EOffcanvas id={\"bookTitles\"}>\r\n      <EOffcanvas.Header>\r\n        <EBurmese src={\"စာအုပ္ေခါင္းစဥ္မ်ား\"} />\r\n      </EOffcanvas.Header>\r\n      <EOffcanvas.Body>\r\n        <FlatList\r\n          data={data}\r\n          renderItem={renderItem}\r\n          keyExtractor={keyExtractor}\r\n          contentContainerStyle={{ paddingBottom: 69 }}\r\n        />\r\n      </EOffcanvas.Body>\r\n    </EOffcanvas>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { getIntroDataAsync } from \"../api/books\";\r\nimport useStorage from \"./useStorage\";\r\n\r\nconst initialState = {\r\n  data: [],\r\n  error: false,\r\n};\r\n\r\nexport default function useBooks() {\r\n  const [state, setState] = React.useState(initialState);\r\n  const { getItem, setItem } = useStorage(\"@books\");\r\n\r\n  // On start of component\r\n  const setData = React.useCallback((data) => {\r\n    setState((prev) => ({\r\n      ...prev,\r\n      data: data,\r\n    }));\r\n  }, []);\r\n\r\n  const getInitialData = React.useCallback(async () => {\r\n    const item = getItem();\r\n    const res = await getIntroDataAsync(item);\r\n\r\n    if (res) {\r\n      setData(res.data);\r\n      return setItem(res);\r\n    }\r\n\r\n    return setItem((prev) => ({ ...prev, error: true }));\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    getInitialData();\r\n  }, []);\r\n\r\n  return { data: state.data, error: state.error, getInitialData };\r\n}\r\n","import { useNavigation } from \"@react-navigation/native\";\r\nimport React from \"react\";\r\nimport BookTitleList from \"~/common/components/BookTitleList\";\r\nimport Feed from \"~/common/components/Feed\";\r\nimport Nav from \"~/common/components/Nav\";\r\nimport EAnimatedFlatList from \"~/common/elements/EAnimatedFlatList\";\r\nimport useBooks from \"~/utils/hooks/useBooks\";\r\n\r\nexport default function Home() {\r\n  const books = useBooks();\r\n\r\n  // Renderer\r\n  const navigation = useNavigation();\r\n\r\n  const renderItem = React.useCallback(\r\n    ({ item }) => <Feed item={item} navigation={navigation} name={\"Book\"} />,\r\n    []\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <EAnimatedFlatList\r\n        data={books.data}\r\n        renderItem={renderItem}\r\n        NavComponent={<Nav />}\r\n      />\r\n      {books.data.length > 0 && <BookTitleList data={books.data} />}\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}