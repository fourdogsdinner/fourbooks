{"version":3,"sources":["src/common/elements/EBurmese.js","src/common/elements/ELoading.js","src/common/elements/EOffcanvas.js","src/assets/firebaseConfig.js","src/common/components/MenuButton.js","src/common/components/Nav.js","SafeAreaView.web.tsx","src/utils/api/books.js","src/common/components/PostDetail.js","src/common/elements/EScrollView.js","src/common/screens/other/Post.js"],"names":["EBurmese","src","className","font","useSettings","text","React","useMemo","window","knayi","fontConvert","style","whiteSpace","ELoading","minHeight","flex","alignItems","justifyContent","role","EOffcanvas","children","id","tabIndex","aria-labelledby","Control","data-bs-toggle","data-bs-target","aria-controls","Header","type","data-bs-dismiss","aria-label","Body","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","store","firestore","db","database","MenuButton","EIcon","name","Nav","title","headerRight","ZawgyiUnicodeConverter","headerLeft","height","zIndex","edgeBitmaskMap","top","right","bottom","left","SafeAreaView","rest","insets","useSafeAreaInsets","edgeBitmask","edges","accum","appliedStyle","insetTop","insetRight","insetBottom","insetLeft","flatStyle","StyleSheet","mode","margin","marginVertical","marginHorizontal","marginTop","marginRight","marginBottom","marginLeft","padding","paddingVertical","paddingHorizontal","paddingTop","paddingRight","paddingBottom","paddingLeft","getIntroDataAsync","data","a","async","collection","doc","get","raw","res","timestamp","console","log","code","getStoryDataAsync","serverId","ref","child","val","PostDetail","post","params","changeRate","useCallback","document","getElementById","playbackRate","writer","loading","controls","controlsList","mp3","onCanPlay","position","story","EScrollView","separatorHeight","headerHeight","NavComponent","scrollY","useRef","Animated","Value","current","clampedScrollY","interpolate","inputRange","outputRange","extrapolateLeft","y","diffClamp","onScroll","event","nativeEvent","contentOffset","useNativeDriver","View","ScrollView","contentContainerStyle","scrollEventThrottle","transform","translateY","start","end","initialPost","Post","useRoute","navigation","useNavigation","useState","setPost","getStoryAsync","useEffect","HeaderLeft","onClick","goBack"],"mappings":"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","file":"static/js/5.2b2277b6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport useSettings from \"~/utils/hooks/useSettings\";\r\n\r\nexport default function EBurmese({ src, className }) {\r\n  const { font } = useSettings();\r\n\r\n  const text = React.useMemo(\r\n    () => window.knayi.fontConvert(src, font),\r\n    [src, font]\r\n  );\r\n\r\n  return (\r\n    <span className={className} style={{ whiteSpace: \"pre-wrap\" }}>\r\n      {text}\r\n    </span>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { View } from \"react-native-web\";\r\n\r\nexport default function ELoading({ minHeight = 400 }) {\r\n  return (\r\n    <View\r\n      style={{\r\n        flex: 1,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        minHeight: minHeight,\r\n      }}\r\n    >\r\n      <div className={\"spinner-border text-primary\"} role=\"status\">\r\n        <span className=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n    </View>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function EOffcanvas({ children, className, id }) {\r\n  return (\r\n    <div\r\n      className={\"offcanvas offcanvas-start \" + className}\r\n      tabIndex=\"-1\"\r\n      id={`${id}`}\r\n      aria-labelledby={`${id}Label`}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Header = ({ className, children }) => (\r\n  <div className={\"offcanvas-header \" + className}>\r\n    <h5 className=\"offcanvas-title\" id=\"offcanvasExampleLabel\">\r\n      {children}\r\n    </h5>\r\n    <button\r\n      type=\"button\"\r\n      className=\"btn-close\"\r\n      data-bs-dismiss=\"offcanvas\"\r\n      aria-label=\"Close\"\r\n    ></button>\r\n  </div>\r\n);\r\n\r\nconst Body = ({ children, className }) => (\r\n  <div className={\"offcanvas-body \" + className}>{children}</div>\r\n);\r\n\r\nconst Control = ({ id, children, className }) => (\r\n  <div\r\n    className={className}\r\n    data-bs-toggle=\"offcanvas\"\r\n    data-bs-target={`#${id}`}\r\n    aria-controls={id}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nEOffcanvas.Control = Control;\r\nEOffcanvas.Header = Header;\r\nEOffcanvas.Body = Body;\r\n","import {\r\n  apiKey,\r\n  databaseURL,\r\n  authDomain,\r\n  projectId,\r\n  messagingSenderId,\r\n  appId,\r\n  storageBucket,\r\n} from \"@env\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: apiKey,\r\n  authDomain: authDomain,\r\n  databaseURL: databaseURL,\r\n  projectId: projectId,\r\n  storageBucket: storageBucket,\r\n  messagingSenderId: messagingSenderId,\r\n  appId: appId,\r\n};\r\n\r\nwindow.firebase.initializeApp(firebaseConfig);\r\n\r\nexport const store = window.firebase.firestore();\r\n\r\nexport const db = window.firebase.database();\r\n","import React from \"react\";\r\nimport EIcon from \"../elements/EIcon\";\r\nimport EOffcanvas from \"../elements/EOffcanvas\";\r\n\r\nexport default function MenuButton() {\r\n  return (\r\n    <EOffcanvas.Control className=\"btn btn-primary btn-sm\" id={\"bookTitles\"}>\r\n      <EIcon name={\"list\"} />\r\n    </EOffcanvas.Control>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport EBurmese from \"../elements/EBurmese\";\r\nimport MenuButton from \"./MenuButton\";\r\nimport ZawgyiUnicodeConverter from \"./ZawgyiUnicodeConverter\";\r\n\r\nexport default function Nav({\r\n  title = \"FourBooks\",\r\n  headerRight = <ZawgyiUnicodeConverter />,\r\n  headerLeft,\r\n}) {\r\n  return (\r\n    <nav\r\n      style={{ height: 64, zIndex: 99999 }}\r\n      className={\"navbar bg-primary navbar-dark shadow\"}\r\n    >\r\n      <div className=\"container-fluid\">\r\n        {headerLeft || <MenuButton />}\r\n        <div className=\"navbar-brand fw-bold\">\r\n          <EBurmese src={title} />\r\n        </div>\r\n        {headerRight}\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\nimport { useSafeAreaInsets } from './SafeAreaContext';\nimport type { Edge, NativeSafeAreaViewProps } from './SafeArea.types';\n\n// prettier-ignore\nconst TOP    = 0b1000,\n      RIGHT  = 0b0100,\n      BOTTOM = 0b0010,\n      LEFT   = 0b0001,\n      ALL    = 0b1111;\n\n/* eslint-disable no-bitwise */\n\nconst edgeBitmaskMap: Record<Edge, number> = {\n  top: TOP,\n  right: RIGHT,\n  bottom: BOTTOM,\n  left: LEFT,\n};\n\nexport function SafeAreaView({\n  style = {},\n  mode,\n  edges,\n  ...rest\n}: NativeSafeAreaViewProps) {\n  const insets = useSafeAreaInsets();\n\n  const edgeBitmask =\n    edges != null\n      ? edges.reduce((accum, edge) => accum | edgeBitmaskMap[edge], 0)\n      : ALL;\n\n  const appliedStyle = React.useMemo(() => {\n    const insetTop = edgeBitmask & TOP ? insets.top : 0;\n    const insetRight = edgeBitmask & RIGHT ? insets.right : 0;\n    const insetBottom = edgeBitmask & BOTTOM ? insets.bottom : 0;\n    const insetLeft = edgeBitmask & LEFT ? insets.left : 0;\n\n    const flatStyle = StyleSheet.flatten(style) as Record<string, number>;\n\n    if (mode === 'margin') {\n      const {\n        margin = 0,\n        marginVertical = margin,\n        marginHorizontal = margin,\n        marginTop = marginVertical,\n        marginRight = marginHorizontal,\n        marginBottom = marginVertical,\n        marginLeft = marginHorizontal,\n      } = flatStyle;\n\n      const marginStyle = {\n        marginTop: marginTop + insetTop,\n        marginRight: marginRight + insetRight,\n        marginBottom: marginBottom + insetBottom,\n        marginLeft: marginLeft + insetLeft,\n      };\n\n      return [style, marginStyle];\n    } else {\n      const {\n        padding = 0,\n        paddingVertical = padding,\n        paddingHorizontal = padding,\n        paddingTop = paddingVertical,\n        paddingRight = paddingHorizontal,\n        paddingBottom = paddingVertical,\n        paddingLeft = paddingHorizontal,\n      } = flatStyle;\n\n      const paddingStyle = {\n        paddingTop: paddingTop + insetTop,\n        paddingRight: paddingRight + insetRight,\n        paddingBottom: paddingBottom + insetBottom,\n        paddingLeft: paddingLeft + insetLeft,\n      };\n\n      return [style, paddingStyle];\n    }\n  }, [style, insets, mode, edgeBitmask]);\n\n  return <View style={appliedStyle} {...rest} />;\n}\n","import { db, store } from \"~/assets/firebaseConfig\";\r\n\r\nconst getIntroDataAsync = async (data) => {\r\n  try {\r\n    const raw = await store.collection(\"Dashboard\").doc(\"Intro\").get();\r\n    const res = raw.data();\r\n\r\n    return res.timestamp === data?.timestamp ? data : res;\r\n  } catch (error) {\r\n    console.log(error.code);\r\n    return data;\r\n  }\r\n};\r\n\r\nconst getStoryDataAsync = async (serverId) => {\r\n  try {\r\n    const res = await db.ref().child(\"Books\").child(serverId).get();\r\n\r\n    return res.val();\r\n  } catch (error) {\r\n    console.log(error);\r\n    return null;\r\n  }\r\n};\r\n\r\nexport { getIntroDataAsync, getStoryDataAsync };\r\n","import React from \"react\";\r\nimport EBurmese from \"../elements/EBurmese\";\r\nimport ELoading from \"../elements/ELoading\";\r\n\r\nexport default function PostDetail({ post, params }) {\r\n  const changeRate = React.useCallback(() => {\r\n    const audio = document.getElementById(\"audio\");\r\n    audio.playbackRate = 1.19;\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-2 position-relative\">\r\n      <div className=\"card-title\">\r\n        <EBurmese src={params?.title} />\r\n      </div>\r\n      <div className=\"card-subtitle fs-italic\">\r\n        <EBurmese src={params?.writer} />\r\n      </div>\r\n      {post.loading ? (\r\n        <ELoading />\r\n      ) : (\r\n        <div>\r\n          <audio\r\n            controls={true}\r\n            controlsList={\"nodownload\"}\r\n            src={`https://drive.google.com/uc?authuser=0&id=${post?.mp3}&export=download`}\r\n            id={\"audio\"}\r\n            onCanPlay={changeRate}\r\n            className={\"m-2 w-100\"}\r\n            style={{\r\n              height: 32,\r\n              position: \"sticky\",\r\n              top: 0,\r\n              zIndex: 9999,\r\n            }}\r\n          />\r\n          <p className={\"mb-3\"}>\r\n            <EBurmese src={post?.story} />\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Animated, View } from \"react-native-web\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\n\r\nexport default function EScrollView({\r\n  separatorHeight = 8,\r\n  headerHeight = 64,\r\n  NavComponent,\r\n  children,\r\n}) {\r\n  // Show & Hide Navigation On scroll\r\n  const scrollY = React.useRef(new Animated.Value(0)).current;\r\n  const clampedScrollY = scrollY.interpolate({\r\n    inputRange: [0, 1],\r\n    outputRange: [0, 1],\r\n    extrapolateLeft: \"clamp\",\r\n  });\r\n  const scrollYClamped = Animated.diffClamp(clampedScrollY, 0, headerHeight);\r\n  const y = scrollYClamped.interpolate({\r\n    inputRange: [0, headerHeight],\r\n    outputRange: [0, -headerHeight],\r\n  });\r\n  const onScroll = Animated.event(\r\n    [{ nativeEvent: { contentOffset: { y: scrollY } } }],\r\n    { useNativeDriver: true }\r\n  );\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={{ flex: 1, position: \"relative\" }}>\r\n        <Animated.ScrollView\r\n          contentContainerStyle={{\r\n            padding: separatorHeight,\r\n            paddingTop: headerHeight + separatorHeight * 2,\r\n          }}\r\n          onScroll={onScroll}\r\n          scrollEventThrottle={16}\r\n        >\r\n          {children}\r\n        </Animated.ScrollView>\r\n        <Animated.View\r\n          style={{\r\n            transform: [{ translateY: y }],\r\n            position: \"absolute\",\r\n            top: 0,\r\n            start: 0,\r\n            end: 0,\r\n            height: headerHeight,\r\n          }}\r\n        >\r\n          {NavComponent}\r\n        </Animated.View>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n}\r\n","import { useNavigation, useRoute } from \"@react-navigation/native\";\r\nimport React from \"react\";\r\nimport Nav from \"~/common/components/Nav\";\r\nimport PostDetail from \"~/common/components/PostDetail\";\r\nimport EScrollView from \"~/common/elements/EScrollView\";\r\nimport { getStoryDataAsync } from \"~/utils/api/books\";\r\n\r\nconst initialPost = { story: \"\", mp3: \"\", loading: true };\r\n\r\nexport default function Post() {\r\n  const { params } = useRoute();\r\n  const navigation = useNavigation();\r\n  const [post, setPost] = React.useState(initialPost);\r\n\r\n  const getStoryAsync = React.useCallback(async () => {\r\n    const res = await getStoryDataAsync(params.serverId);\r\n    setPost({ mp3: res.mp3, story: res.story, loading: false });\r\n  }, [params]);\r\n\r\n  React.useEffect(() => {\r\n    getStoryAsync();\r\n    return () => setPost(initialPost);\r\n  }, []);\r\n\r\n  const HeaderLeft = React.useCallback(() => (\r\n    <button type=\"button\" className=\"btn btn-sm\" onClick={navigation.goBack}>\r\n      <i className=\"bi-chevron-left text-light\" />\r\n    </button>\r\n  ));\r\n\r\n  return (\r\n    <EScrollView NavComponent={<Nav headerLeft={<HeaderLeft />} />}>\r\n      <PostDetail params={params} post={post} />\r\n    </EScrollView>\r\n  );\r\n}\r\n"],"sourceRoot":""}