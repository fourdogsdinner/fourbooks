(this.webpackJsonp=this.webpackJsonp||[]).push([[5],{218:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return o}));var n=a(0),r=a.n(n),i=a(47),s=a(7);function o(e){var t=e.src,a=e.className,n=Object(i.default)().font,o=r.a.useMemo((function(){return window.knayi.fontConvert(t,n)}),[t,n]);return Object(s.jsx)("span",{className:a,style:{whiteSpace:"pre-wrap"},children:o})}},219:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return i}));a(0);var n=a(2),r=a(7);function i(e){var t=e.minHeight,a=void 0===t?400:t;return Object(r.jsx)(n.default,{style:{flex:1,alignItems:"center",justifyContent:"center",minHeight:a},children:Object(r.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},220:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));a(0);var n=a(7);function r(e){var t=e.children,a=e.className,r=e.id;return Object(n.jsx)("div",{className:"offcanvas offcanvas-start "+a,tabIndex:"-1",id:""+r,"aria-labelledby":r+"Label",children:t})}r.Control=function(e){var t=e.id,a=e.children,r=e.className;return Object(n.jsx)("div",{className:r,"data-bs-toggle":"offcanvas","data-bs-target":"#"+t,"aria-controls":t,children:a})},r.Header=function(e){var t=e.className,a=e.children;return Object(n.jsxs)("div",{className:"offcanvas-header "+t,children:[Object(n.jsx)("h5",{className:"offcanvas-title",id:"offcanvasExampleLabel",children:a}),Object(n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]})},r.Body=function(e){var t=e.children,a=e.className;return Object(n.jsx)("div",{className:"offcanvas-body "+a,children:t})}},222:function(e,t,a){"use strict";a.r(t),a.d(t,"store",(function(){return n})),a.d(t,"db",(function(){return r}));window.firebase.initializeApp({apiKey:"AIzaSyDfBJrvpVfqELfmEylFrFCI9lH-8Y05U-s",authDomain:"fourbooks-mobile.firebaseapp.com",databaseURL:"https://fourbooks-mobile-default-rtdb.firebaseio.com",projectId:"fourbooks-mobile",storageBucket:"fourbooks-mobile.appspot.com",messagingSenderId:"838079290450",appId:"1:838079290450:web:56d5ffa5b74fd676e0d38b"});var n=window.firebase.firestore(),r=window.firebase.database()},223:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return l}));a(0);var n=a(218),r=a(89),i=a(220),s=a(7);function o(){return Object(s.jsx)(i.default.Control,{className:"btn btn-primary btn-sm",id:"bookTitles",children:Object(s.jsx)(r.default,{name:"list"})})}var c=a(102);function l(e){var t=e.title,a=void 0===t?"FourBooks":t,r=e.headerRight,i=void 0===r?Object(s.jsx)(c.default,{}):r,l=e.headerLeft;return Object(s.jsx)("nav",{style:{height:64,zIndex:99999},className:"navbar bg-primary navbar-dark shadow",children:Object(s.jsxs)("div",{className:"container-fluid",children:[l||Object(s.jsx)(o,{}),Object(s.jsx)("div",{className:"navbar-brand fw-bold",children:Object(s.jsx)(n.default,{src:a})}),i]})})}},225:function(e,t,a){"use strict";a.r(t),a.d(t,"SafeAreaView",(function(){return f}));var n=a(8),r=a.n(n),i=a(0),s=a(2),o=a(3),c=a(49),l=["style","mode","edges"];function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u={top:8,right:4,bottom:2,left:1};function f(e){var t=e.style,a=void 0===t?{}:t,n=e.mode,f=e.edges,b=r()(e,l),p=Object(c.useSafeAreaInsets)(),v=null!=f?f.reduce((function(e,t){return e|u[t]}),0):15,m=i.useMemo((function(){var e=8&v?p.top:0,t=4&v?p.right:0,r=2&v?p.bottom:0,i=1&v?p.left:0,s=o.default.flatten(a);if("margin"===n){var c=s.margin,l=void 0===c?0:c,d=s.marginVertical,u=void 0===d?l:d,f=s.marginHorizontal,b=void 0===f?l:f,m=s.marginTop,j=void 0===m?u:m,h=s.marginRight,g=void 0===h?b:h,x=s.marginBottom,O=void 0===x?u:x,y=s.marginLeft;return[a,{marginTop:j+e,marginRight:g+t,marginBottom:O+r,marginLeft:(void 0===y?b:y)+i}]}var w=s.padding,N=void 0===w?0:w,k=s.paddingVertical,C=void 0===k?N:k,I=s.paddingHorizontal,L=void 0===I?N:I,R=s.paddingTop,S=void 0===R?C:R,B=s.paddingRight,A=void 0===B?L:B,E=s.paddingBottom,H=void 0===E?C:E,V=s.paddingLeft;return[a,{paddingTop:S+e,paddingRight:A+t,paddingBottom:H+r,paddingLeft:(void 0===V?L:V)+i}]}),[a,p,n,v]);return i.createElement(s.default,d({style:m},b))}},226:function(e,t,a){"use strict";a.r(t),a.d(t,"getIntroDataAsync",(function(){return s})),a.d(t,"getStoryDataAsync",(function(){return o}));var n=a(21),r=a.n(n),i=a(222),s=function(e){var t,a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(i.store.collection("Dashboard").doc("Intro").get());case 3:return t=n.sent,a=t.data(),n.abrupt("return",a.timestamp===(null==e?void 0:e.timestamp)?e:a);case 8:return n.prev=8,n.t0=n.catch(0),console.log(n.t0.code),n.abrupt("return",e);case 12:case"end":return n.stop()}}),null,null,[[0,8]],Promise)},o=function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(i.db.ref().child("Books").child(e).get());case 3:return t=a.sent,a.abrupt("return",t.val());case 7:return a.prev=7,a.t0=a.catch(0),console.log(a.t0),a.abrupt("return",null);case 11:case"end":return a.stop()}}),null,null,[[0,7]],Promise)}},231:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(6),r=a.n(n),i=a(21),s=a.n(i),o=a(11),c=a(0),l=a.n(c),d=a(223),u=a(218),f=a(219),b=a(7);function p(e){var t=e.post,a=e.params,n=l.a.useCallback((function(){document.getElementById("audio").playbackRate=1.19}),[]);return Object(b.jsxs)("div",{className:"p-2 position-relative",children:[Object(b.jsx)("div",{className:"card-title",children:Object(b.jsx)(u.default,{src:null==a?void 0:a.title})}),Object(b.jsx)("div",{className:"card-subtitle fs-italic",children:Object(b.jsx)(u.default,{src:null==a?void 0:a.writer})}),t.loading?Object(b.jsx)(f.default,{}):Object(b.jsxs)("div",{children:[Object(b.jsx)("audio",{controls:!0,controlsList:"nodownload",src:"https://drive.google.com/uc?authuser=0&id="+(null==t?void 0:t.mp3)+"&export=download",id:"audio",onCanPlay:n,className:"m-2 w-100",style:{height:32,position:"sticky",top:0,zIndex:9999}}),Object(b.jsx)("p",{className:"mb-3",children:Object(b.jsx)(u.default,{src:null==t?void 0:t.story})})]})]})}var v=a(15),m=a(2),j=a(225);function h(e){var t=e.separatorHeight,a=void 0===t?8:t,n=e.headerHeight,r=void 0===n?64:n,i=e.NavComponent,s=e.children,o=l.a.useRef(new v.default.Value(0)).current,c=o.interpolate({inputRange:[0,1],outputRange:[0,1],extrapolateLeft:"clamp"}),d=v.default.diffClamp(c,0,r).interpolate({inputRange:[0,r],outputRange:[0,-r]}),u=v.default.event([{nativeEvent:{contentOffset:{y:o}}}],{useNativeDriver:!0});return Object(b.jsx)(j.SafeAreaView,{style:{flex:1},children:Object(b.jsxs)(m.default,{style:{flex:1,position:"relative"},children:[Object(b.jsx)(v.default.ScrollView,{contentContainerStyle:{padding:a,paddingTop:r+2*a},onScroll:u,scrollEventThrottle:16,children:s}),Object(b.jsx)(v.default.View,{style:{transform:[{translateY:d}],position:"absolute",top:0,start:0,end:0,height:r},children:i})]})})}var g=a(226),x={story:"",mp3:"",loading:!0};function O(){var e=Object(o.useRoute)().params,t=Object(o.useNavigation)(),a=l.a.useState(x),n=r()(a,2),i=n[0],c=n[1],u=l.a.useCallback((function(){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,s.a.awrap(Object(g.getStoryDataAsync)(e.serverId));case 2:t=a.sent,c({mp3:t.mp3,story:t.story,loading:!1});case 4:case"end":return a.stop()}}),null,null,null,Promise)}),[e]);l.a.useEffect((function(){return u(),function(){return c(x)}}),[]);var f=l.a.useCallback((function(){return Object(b.jsx)("button",{type:"button",className:"btn btn-sm",onClick:t.goBack,children:Object(b.jsx)("i",{className:"bi-chevron-left text-light"})})}));return Object(b.jsx)(h,{NavComponent:Object(b.jsx)(d.default,{headerLeft:Object(b.jsx)(f,{})}),children:Object(b.jsx)(p,{params:e,post:i})})}}}]);
//# sourceMappingURL=5.2b2277b6.chunk.js.map